import{o as c,c as r,b as i,d,u,a as t,C as _,e as g,r as p}from"./index-C9FwR70A.js";const m={class:"login"},h=t("br",null,null,-1),f=t("br",null,null,-1),k={__name:"LogIn",setup(b){const a=o=>{console.log("Google login raw response: ",o);const e=g(o.credential);console.log("Google login decoded response: ",e);const n=p(null),l={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:0,first_name:e.given_name,last_name:e.family_name,email:e.email})};fetch("http://shayandoust.me:1123/logged_in",l).then(s=>s.json()).then(s=>n.status=s),console.log("Server replied with: ",n.status),$cookies.set("pscomp_oauth",JSON.stringify(e))};return(o,e)=>(c(),r("div",m,[i(" In order to upload a submission, you need to log in using a Google account. "),h,f,d(u(_),{callback:a})]))}};export{k as default};
